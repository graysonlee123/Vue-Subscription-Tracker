webpackJsonp([1],{"/FAF":function(t,e){},"5Wpq":function(t,e){},AtXz:function(t,e){},DJdp:function(t,e){},DnWz:function(t,e){},K7Os:function(t,e){},K9hG:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("7+uW"),a=s("//Fk"),i=s.n(a),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{staticClass:"menu-container",attrs:{id:"navigation"}},[e("ul",[e("router-link",{staticClass:"dashboard__link",attrs:{to:"/dashboard",tag:"li"}},[e("i",{staticClass:"fas fa-house-user",attrs:{"aria-hidden":"true"}})]),this._v(" "),e("router-link",{staticClass:"new__link",attrs:{to:"/dashboard/subscription",tag:"li"}},[e("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})]),this._v(" "),e("router-link",{staticClass:"settings__link",attrs:{to:"/dashboard/settings",tag:"li"}},[e("i",{staticClass:"fa fa-cog",attrs:{"aria-hidden":"true"}})])],1)])},staticRenderFns:[]};var o=s("VU/8")({data:function(){return{}}},n,!1,function(t){s("OTtp")},"data-v-204921d0",null).exports,c={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"main-menu"}},[r("span",{staticClass:"logout",on:{click:function(e){return t.handleLogout()}}},[t._v("Logout")]),t._v(" "),r("div",{staticClass:"options__wrapper",class:{isOpen:t.showOptions}},[r("div",{staticClass:"options__clickZone",on:{click:function(e){return t.toggleMenu()}}},[r("img",{staticClass:"avatar",attrs:{src:t.avatarUrl,alt:"Avatar"}}),t._v(" "),r("img",{staticClass:"icon",attrs:{src:s("fWSh"),alt:"Avatar"}})]),t._v(" "),t.showOptions?r("ul",{staticClass:"options__menu"},[r("router-link",{attrs:{to:"/dashboard/settings/account",tag:"li"}},[t._v("Account")]),t._v(" "),r("router-link",{attrs:{to:"/dashboard/settings/preferences",tag:"li"}},[t._v("Preferences")]),t._v(" "),r("router-link",{attrs:{to:"/dashboard/settings/password",tag:"li"}},[t._v("Password")])],1):t._e()])])},staticRenderFns:[]};var u=s("VU/8")({data:function(){return{showOptions:!1}},methods:{handleLogout:function(){var t=this;this.$store.dispatch("logout").finally(function(){t.$router.push("/login")})},toggleMenu:function(t){"boolean"==typeof t||(this.showOptions?this.showOptions=!1:this.showOptions=!0)}},computed:{avatarUrl:function(){return this.$store.getters.avatarUrl}},watch:{$route:function(){this.showOptions=!1}}},c,!1,function(t){s("oXjK")},null,null).exports,l={computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated},modal:function(){return this.$store.getters.alert}},methods:{logout:function(){var t=this;this.$store.dispatch("logout").then(function(){t.$router.push("/login")}).catch(function(t){console.error(t)})},handleCloseModal:function(t){this.$store.commit("remove_modal",t)}},components:{navigation:o,mainMenu:u},beforeCreate:function(){var t=this,e=localStorage.getItem("token");e?(this.$http.defaults.headers.common["x-auth-token"]=e,this.$store.dispatch("verifyToken").then(function(){}).catch(function(e){console.error(e),t.$router.push("/login")})):delete this.$http.defaults.headers.common["x-auth-token"]},created:function(){this.$http.interceptors.response.use(void 0,function(t){return new i.a(function(){throw 401===t.status&&t.config&&!t.config.__isRetryRequest&&this.$store.dispatch("logout"),t})})}},d={render:function(){var t,e=this,s=e.$createElement,r=e._self._c||s;return r("div",{attrs:{id:"app"}},[r("transition",{attrs:{name:"modal",mode:"out-in"}},[e.modal?r("div",{class:(t={},t[e.modal.type]=!0,t),attrs:{id:"modal"}},[r("p",[e._v(e._s(e.modal.message))]),e._v(" "),r("div",{staticClass:"modal__close",on:{click:function(t){return e.handleCloseModal(e.modal.uuid)}}},[r("i",{staticClass:"fa fa-times"})])]):e._e()]),e._v(" "),r("router-view")],1)},staticRenderFns:[]};var p=s("VU/8")(l,d,!1,function(t){s("XzU7")},null,null).exports,h=s("bOdI"),f=s.n(h),m=s("/ocq"),v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedLanguage,expression:"selectedLanguage"}],attrs:{id:"select-language"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedLanguage=e.target.multiple?s:s[0]},t.handleLangChange]}},[s("option",{attrs:{value:"en"}},[t._v("English")]),t._v(" "),s("option",{attrs:{value:"sp"}},[t._v("Spanish")]),t._v(" "),s("option",{attrs:{value:"da"}},[t._v("Danish")])])},staticRenderFns:[]},g=s("VU/8")({data:function(){return{selectedLanguage:""}},methods:{handleLangChange:function(){this.$store.dispatch("languageChange",this.selectedLanguage)}},created:function(){this.selectedLanguage=this.$store.state.preferences.language}},v,!1,null,null,null).exports,_=s("kFye"),w={methods:{addFormError:function(t,e){var s=this;t&&t.response&&t.response.data&&(t.response.data.errors.forEach(function(t){var e=t.param,r=t.msg;return s.formErrors.push({field:e,msg:r})}),document.getElementById(e)&&document.getElementById(e).focus())},removeFormError:function(t){var e=this;this.formErrors.find(function(s,r){s&&s.field===t&&e.formErrors.splice(r,1)})},clearErrors:function(){this.formErrors=[]}}},b={data:function(){return{email:"",password:"",showPassword:!1,formErrors:[]}},mixins:[w],components:{languageSelect:g},methods:{handleSubmit:function(){var t=this;this.clearErrors();var e={email:this.email,password:this.password};this.$store.dispatch("login",e).then(function(){t.$router.push("/dashboard")}).catch(function(e){console.error(e),403===e.response.status?(t.$store.dispatch("addModal",{type:"danger",message:e.response.data.msg,uuid:Object(_.a)()}),t.password=""):500===e.response.status?(t.$store.dispatch("addModal",{type:"danger",message:"Server error, please try again later.",uuid:Object(_.a)()}),t.password=""):t.addFormError(e,"email")})},handleShowPassword:function(){var t=document.getElementById("password"),e=document.getElementById("password-icon");this.showPassword?(t.type="password",this.showPassword=!1,e.classList.remove("fa-eye-slash"),e.classList.add("fa-eye")):(t.type="text",this.showPassword=!0,e.classList.remove("fa-eye"),e.classList.add("fa-eye-slash"))},handleLostFocus:function(t){var e=t.target.id;this.formErrors.length&&this.removeFormError(e)}},beforeCreate:function(){this.$store.state.isAuthenticated&&this.$router.push("/dashboard")}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"auth-wrapper"},[s("div",{staticClass:"auth-left"}),t._v(" "),s("div",{staticClass:"auth-right"},[s("form",{staticClass:"auth-form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("h4",[t._v("Login to your account to view, edit, and track your subscriptions.")]),t._v(" "),s("div",{staticClass:"inputGroup",class:{hasError:t.formErrors.find(function(t){return"email"===t.field})}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"email"}},[t._v("\n          Email\n          "),t.formErrors.find(function(t){return"email"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"email"===t.field}).msg))]):t._e()]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",type:"text",placeholder:"johnnyappleseed@gmail.com",autofocus:""},domProps:{value:t.email},on:{focusout:t.handleLostFocus,input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"inputGroup",class:{hasError:t.formErrors.find(function(t){return"password"===t.field})}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"password"}},[t._v("\n          Password\n          "),t.formErrors.find(function(t){return"password"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"password"===t.field}).msg))]):t._e()]),t._v(" "),s("div",{staticClass:"input-wrapper password"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password",placeholder:"At least 8 characters"},domProps:{value:t.password},on:{focusout:t.handleLostFocus,input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("span",{staticClass:"show-password-button",on:{click:t.handleShowPassword}},[s("i",{staticClass:"fas fa-eye",attrs:{id:"password-icon"}})])])]),t._v(" "),t._m(0),t._v(" "),s("p",{staticClass:"footerP"},[t._v("\n        Don't have an account?\n        "),s("router-link",{attrs:{to:"/register"}},[t._v("Register")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"submit__wrapper"},[e("input",{staticClass:"roundedButton",attrs:{type:"submit",value:"Login"}})])}]};var C=s("VU/8")(b,y,!1,function(t){s("iihr")},"data-v-fb033d76",null).exports,P={data:function(){return{email:"",first_name:"",last_name:"",password:"",showPassword:!1,formErrors:[]}},mixins:[w],components:{languageSelect:g},methods:{handleSubmit:function(){var t=this;this.formErrors=[];var e={email:this.email,first_name:this.first_name,last_name:this.last_name,password:this.password};this.$store.dispatch("register",e).then(function(){t.$router.push("/dashboard")}).catch(function(e){console.error(e),500===e.response.status?(t.$store.dispatch("addModal",{type:"danger",message:"Server error, please try again later.",uuid:Object(_.a)()}),t.password=""):t.addFormError(e,"first_name")})},handleShowPassword:function(){var t=document.getElementById("password"),e=document.getElementById("password-icon");this.showPassword?(t.type="password",this.showPassword=!1,e.classList.remove("fa-eye-slash"),e.classList.add("fa-eye")):(t.type="text",this.showPassword=!0,e.classList.remove("fa-eye"),e.classList.add("fa-eye-slash"))},handleLostFocus:function(t){var e=t.target.id;this.formErrors.length&&this.removeFormError(e)}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"auth-wrapper"},[s("div",{staticClass:"auth-left"}),t._v(" "),s("div",{staticClass:"auth-right"},[s("form",{staticClass:"auth-form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("h4",[t._v("Register to get in control of your subscriptions.")]),t._v(" "),s("div",{staticClass:"doubleInputGroup"},[s("div",{staticClass:"inputGroup",class:{hasError:t.formErrors.find(function(t){return"first_name"===t.field})}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"first_name"}},[t._v("\n            First Name\n            "),t.formErrors.find(function(t){return"first_name"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"first_name"===t.field}).msg))]):t._e()]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.first_name,expression:"first_name"}],attrs:{id:"first_name",type:"text",placeholder:"Johnny",autofocus:""},domProps:{value:t.first_name},on:{focusout:t.handleLostFocus,input:function(e){e.target.composing||(t.first_name=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"inputGroup",class:{hasError:t.formErrors.find(function(t){return"last_name"===t.field})}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"last_name"}},[t._v("\n            Last Name\n            "),t.formErrors.find(function(t){return"last_name"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"last_name"===t.field}).msg))]):t._e()]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.last_name,expression:"last_name"}],attrs:{id:"last_name",type:"text",placeholder:"Appleseed"},domProps:{value:t.last_name},on:{focusout:t.handleLostFocus,input:function(e){e.target.composing||(t.last_name=e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"inputGroup",class:{hasError:t.formErrors.find(function(t){return"email"===t.field})}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"email"}},[t._v("\n          Email\n          "),t.formErrors.find(function(t){return"email"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"email"===t.field}).msg))]):t._e()]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",type:"text",placeholder:"johnnyappleseed@gmail.com"},domProps:{value:t.email},on:{focusout:t.handleLostFocus,input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"inputGroup",class:{hasError:t.formErrors.find(function(t){return"password"===t.field})}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"password"}},[t._v("\n          Password\n          "),t.formErrors.find(function(t){return"password"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"password"===t.field}).msg))]):t._e()]),t._v(" "),s("div",{staticClass:"input-wrapper password"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password",placeholder:"Must be at least 8 characters"},domProps:{value:t.password},on:{focusout:t.handleLostFocus,input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("span",{staticClass:"show-password-button",on:{click:t.handleShowPassword}},[s("i",{staticClass:"fas fa-eye",attrs:{id:"password-icon"}})])])]),t._v(" "),t._m(0),t._v(" "),s("p",{staticClass:"footerP"},[t._v("\n        Already have an account?\n        "),s("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"submit__wrapper"},[e("input",{staticClass:"roundedButton",attrs:{type:"submit",value:"Register"}})])}]};var x=s("VU/8")(P,k,!1,function(t){s("k/PI")},"data-v-598e5bb7",null).exports,E=s("PJh5"),j=s.n(E),M={data:function(){return{loading:!1,error:!1}},components:{navigation:o,mainMenu:u}},S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"dashboard"}},[e("navigation"),this._v(" "),e("main-menu"),this._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)},staticRenderFns:[]};var D=s("VU/8")(M,S,!1,function(t){s("DnWz")},null,null).exports,$=s("Dd8w"),O=s.n($),F=s("Xxa5"),I=s.n(F),N=s("exGp"),z=s.n(N),L=new r.a,T={props:{dateProp:String,color:String},data:function(){return{selectedDate:"",day:"",month:"",year:"",months:["January","February","March","April","May","June","July","August","September","October","Novemeber","Decemeber"],days:["Su","Mo","Tu","We","Th","Fr","Sa"],calendarList:[],show:!1}},methods:{loadMonth:function(){this.calendarList=[];for(var t=j.a.utc(this.year+"-"+this.month,"YYYY-M",!0),e=j.a.utc(t).add(1,"months"),s=t.day(),r=1,a=t.daysInMonth(),i=0;i<6;i++){for(var n=[],o=0;o<7;o++)if(r>a)n.push({dayCount:e.date(),date:e.toISOString(),isToday:!1,isOtherMonth:1}),e.add(1,"days");else if(0==s){var c=j()(),u=c.date()===r&&c.month()+1===this.month&&c.year()===this.year;n.push({dayCount:r,date:j.a.utc(this.year+"-"+this.month+"-"+r,"YYYY-M-D",!0).toISOString(),isToday:u,isOtherMonth:0}),r++}else{var l=j.a.utc(t).subtract(1,"months");l=l.date(l.daysInMonth()-s+1),n.push({dayCount:l.date(),date:l.toISOString(),isToday:!1,isOtherMonth:-1}),l.subtract(1,"days"),s--}this.calendarList.push(n)}},decreaseMonth:function(){this.month>1?this.month=this.month-1:(this.year=this.year-1,this.month=12)},increaseMonth:function(){this.month<12?this.month=this.month+1:(this.year=this.year+1,this.month=1)},selectDate:function(t){this.selectedDate=t.date,t.isOtherMonth&&(this.month=j.a.utc(t.date).month()+1)},submitForm:function(){this.show=!1,this.$emit("dateUpdated",this.selectedDate)}},watch:{month:function(){this.loadMonth()}},created:function(){if(this.dateProp){var t=j.a.utc(this.dateProp);this.year=t.year(),this.month=t.month()+1,this.day=t.date(),this.selectedDate=t.toISOString()}else{var e=j()();this.year=e.year(),this.month=e.month()+1,this.day=e.date()}},computed:{selectedDateString:function(){return this.selectedDate?""+j.a.utc(this.selectedDate).format("MMMM DD, YYYY"):"Select a date..."}}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"date-wrapper"},[s("div",{staticClass:"date-text",class:{"date-selected":t.selectedDate},on:{click:function(e){t.show=!0}}},[t._v(t._s(t.selectedDateString))]),t._v(" "),t.show?s("div",{staticClass:"date-picker"},[s("div",{staticClass:"header"},[s("div",{staticClass:"left buttons",on:{click:t.decreaseMonth}},[s("i",{staticClass:"fa fa-chevron-left"})]),t._v(" "),s("p",{staticClass:"title"},[t._v(t._s(t.months[t.month-1])+" "+t._s(t.year))]),t._v(" "),s("div",{staticClass:"right buttons",on:{click:t.increaseMonth}},[s("i",{staticClass:"fa fa-chevron-right"})])]),t._v(" "),s("table",[s("tr",{staticClass:"daysOfWeek"},t._l(t.days,function(e,r){return s("td",{key:r},[t._v(t._s(e))])}),0),t._v(" "),t._l(t.calendarList,function(e,r){return s("tr",{key:r},t._l(e,function(e,r){return s("td",{key:r,style:[e.isToday?{color:"var(--mainAccent)"}:{color:"var(--textDark)"}]},[s("div",{staticClass:"date-button",class:{selected:t.selectedDate===e.date,isOtherMonth:0!==e.isOtherMonth},on:{click:function(s){return t.selectDate(e)}}},[t._v(t._s(e.dayCount))])])}),0)})],2),t._v(" "),s("div",{staticClass:"footer"},[s("input",{attrs:{type:"button",value:"Close"},on:{click:function(e){t.show=!1}}}),t._v(" "),s("input",{attrs:{type:"button",value:"Submit"},on:{click:t.submitForm}})])]):t._e()])},staticRenderFns:[]};var A=s("VU/8")(T,R,!1,function(t){s("lPkd")},"data-v-1d585c2c",null).exports,G={props:{colorProp:{type:String}},data:function(){return{showColorModal:!1,colors:["#00aa55","#008040","#1e90ff","#0f4880","#00a4a6","#e26a6a","#bf6ee0","#77448b","#b8860b","#e65722","#e63022","#e76e3c","#f64747","#939393","#2e343b"],selectedColor:null}},methods:{toggleColorModal:function(t){switch(t){case!0:this.showColorModal=!0;break;case!1:this.showColorModal=!1;break;default:this.showColorModal?this.showColorModal=!1:this.showColorModal=!0}},pickColor:function(t){this.selectedColor=t,this.$emit("pickedAColor",t)}},created:function(){this.colorProp&&this.pickColor(this.colorProp)}},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"colorPicker__wrapper"},[s("div",{staticClass:"colorPicker",on:{click:function(e){return t.toggleColorModal()}}},[t._v("\n    Pick a Color\n    "),t.selectedColor?s("div",{staticClass:"colorPicker__swatch",style:{backgroundColor:t.selectedColor}}):t._e()]),t._v(" "),s("div",{staticClass:"colorPicker__modal",class:{active:t.showColorModal}},[s("ul",t._l(t.colors,function(e,r){return s("li",{key:r,class:{selected:t.selectedColor===e},style:{backgroundColor:e},on:{click:function(s){return t.pickColor(e)}}},[s("i",{staticClass:"fa fa-check"})])}),0)])])},staticRenderFns:[]};var U=s("VU/8")(G,W,!1,function(t){s("/FAF")},"data-v-619b5ca0",null).exports,B={props:{subscriptionId:{type:String}},data:function(){return{loading:!0,error:!1,subscription:{name:"",description:"",interval:"1",duration:"month",paymentMethod:"",note:"",color:"",firstPaymentDate:""},formErrors:[],showColorModal:!1,postAsNew:!1}},mixins:[w],methods:{fetchSubscription:function(){var t=this;return z()(I.a.mark(function e(){var s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.subscription=null,e.prev=2,e.next=5,t.$http.get("/api/subscription/"+t.subscriptionId);case 5:s=e.sent,t.subscription=s.data.subscription,t.loading=!1,e.next=16;break;case 10:e.prev=10,e.t0=e.catch(2),t.error=!0,t.loading=!1,t.$store.dispatch("addModal",{type:"danger",message:"There was an error loading that subscription. Please try again later.",uuid:Object(_.a)()}),console.log(e.t0);case 16:case"end":return e.stop()}},e,t,[[2,10]])}))()},handleSubmit:function(){var t=this;return z()(I.a.mark(function e(){var s,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.formErrors=[],t.loading=!0,e.prev=2,!t.postAsNew){e.next=14;break}return s=O()({},t.subscription),e.next=7,t.$http.post("/api/subscription",s);case 7:e.sent,t.loading=!1,L.$emit("refreshSubscriptions"),t.$router.push("/dashboard"),t.$store.dispatch("addModal",{type:"success",message:"Your subscription was succesfully added.",uuid:Object(_.a)()}),e.next=22;break;case 14:return r=O()({},t.subscription),e.next=17,t.$http.post("/api/subscription/"+t.subscriptionId,r);case 17:e.sent,t.loading=!1,L.$emit("refreshSubscriptions"),t.$router.push("/dashboard"),t.$store.dispatch("addModal",{type:"success",message:"Your subscription was succesfully updated.",uuid:Object(_.a)()});case 22:e.next=29;break;case 24:e.prev=24,e.t0=e.catch(2),t.loading=!1,t.addFormError(e.t0),console.log(e.t0);case 29:case"end":return e.stop()}},e,t,[[2,24]])}))()},decodeHtml:function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value},handlePriceBlur:function(){this.subscription.price=parseFloat(this.subscription.price).toFixed(2)},handleColorPick:function(t){this.subscription.color=t},handleGoBack:function(){var t=this;return z()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t.$router.push("/app/dashboard")}catch(t){console.log(err)}case 1:case"end":return e.stop()}},e,t)}))()}},created:function(){this.subscriptionId?this.fetchSubscription():(this.loading=!1,this.postAsNew=!0)},components:{datePicker:A,colorPicker:U}},Y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loading?s("div",{key:"spinner",staticClass:"spinner-container"},[s("i",{staticClass:"spinner"})]):t.error?s("div",[t._v("\n  There was a problem with that request. Please try again later.\n  "),s("router-link",{attrs:{to:"/dashboard"}},[t._v("Go back")])],1):s("div",{key:"form",staticClass:"formContainer"},[s("div",{staticClass:"formWrapper"},[s("h1",[t._v(t._s(t.subscriptionId?"Edit Subscription":"New Subscription"))]),t._v(" "),t._m(0),t._v(" "),s("form",[s("div",{staticClass:"inputGroup price-wrapper",class:{hasError:t.formErrors.find(function(t){return"price"===t.field})},attrs:{id:"price-wrapper"}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"price"}},[t._v("\n          Price\n          "),t.formErrors.find(function(t){return"price"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"price"===t.field}).msg))]):t._e()]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.subscription.price,expression:"subscription.price"}],attrs:{id:"price",type:"number",step:"0.01",min:"0.00",max:"999.00",placeholder:"0.00",inputmode:"decimal",autofocus:""},domProps:{value:t.subscription.price},on:{blur:t.handlePriceBlur,input:function(e){e.target.composing||t.$set(t.subscription,"price",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"inputGroup name-wrapper",class:{hasError:t.formErrors.find(function(t){return"name"===t.field})}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"name"}},[t._v("\n          Name\n          "),t.formErrors.find(function(t){return"name"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"name"===t.field}).msg))]):t._e()]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.subscription.name,expression:"subscription.name"}],attrs:{id:"name",type:"text",placeholder:"e.g. Spotify"},domProps:{value:t.subscription.name},on:{input:function(e){e.target.composing||t.$set(t.subscription,"name",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"inputGroup desc-wrapper"},[s("label",{staticClass:"inputGroup__label optional",attrs:{for:"description"}},[t._v("Description")]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.subscription.description,expression:"subscription.description"}],attrs:{id:"description",type:"text",placeholder:"e.g. Student plan"},domProps:{value:t.subscription.description},on:{input:function(e){e.target.composing||t.$set(t.subscription,"description",e.target.value)}}})]),t._v(" "),t.formErrors.find(function(t){return"description"===t.field})?s("p",{staticClass:"field-error"},[t._v(t._s(t.formErrors.find(function(t){return"description"===t.field}).msg))]):t._e()]),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"inputGroup date-wrapper",class:{hasError:t.formErrors.find(function(t){return"firstPaymentDate"===t.field})}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"firstPaymentDate"}},[t._v("\n          First Payment\n          "),t.formErrors.find(function(t){return"firstPaymentDate"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"firstPaymentDate"===t.field}).msg))]):t._e()]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("date-picker",{attrs:{dateProp:t.subscription.firstPaymentDate,color:t.subscription.color},on:{dateUpdated:function(e){return t.subscription.firstPaymentDate=e}}})],1)]),t._v(" "),s("div",{staticClass:"inputGroup interval-wrapper",class:{hasError:t.formErrors.find(function(t){return"interval"===t.field})}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"interval"}},[t._v("\n          Payment Interval\n          "),t.formErrors.find(function(t){return"interval"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"interval"===t.field}).msg))]):t._e()]),t._v(" "),s("div",{staticClass:"input-wrapper splitInput"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.subscription.interval,expression:"subscription.interval"}],attrs:{id:"interval",type:"number",default:"1",inputmode:"numeric"},domProps:{value:t.subscription.interval},on:{input:function(e){e.target.composing||t.$set(t.subscription,"interval",e.target.value)}}}),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.subscription.duration,expression:"subscription.duration"}],attrs:{name:"duration",id:"duration"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.subscription,"duration",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"day"}},[t._v("Day"+t._s(t.subscription.interval>1?"s":""))]),t._v(" "),s("option",{attrs:{value:"month"}},[t._v("Month"+t._s(t.subscription.interval>1?"s":""))]),t._v(" "),s("option",{attrs:{value:"year"}},[t._v("Year"+t._s(t.subscription.interval>1?"s":""))])])])]),t._v(" "),s("div",{staticClass:"inputGroup color-wrapper",class:{hasError:t.formErrors.find(function(t){return"color"===t.field})}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"color"}},[t._v("\n          Color\n          "),t.formErrors.find(function(t){return"color"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"color"===t.field}).msg))]):t._e()]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("color-picker",{attrs:{colorProp:t.subscription.color},on:{pickedAColor:t.handleColorPick}})],1)]),t._v(" "),s("div",{staticClass:"inputGroup method-wrapper",class:{hasError:t.formErrors.find(function(t){return"paymentMethod"===t.field})}},[s("label",{staticClass:"inputGroup__label optional",attrs:{for:"paymentMethod"}},[t._v("\n          Payment Method\n          "),t.formErrors.find(function(t){return"paymentMethod"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"paymentMethod"===t.field}).msg))]):t._e()]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.subscription.paymentMethod,expression:"subscription.paymentMethod"}],attrs:{id:"paymentMethod",type:"text",placeholder:"e.g. Checking Account"},domProps:{value:t.subscription.paymentMethod},on:{input:function(e){e.target.composing||t.$set(t.subscription,"paymentMethod",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"submitWrapper"},[s("button",{on:{click:function(e){return t.handleSubmit()}}},[s("i",{staticClass:"fa fa-save"}),t._v(" Save Subscription\n    ")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dividerWrapper"},[e("div",{staticClass:"dividerWrapper__line"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dividerWrapper"},[e("div",{staticClass:"dividerWrapper__line"})])}]};var H=s("VU/8")(B,Y,!1,function(t){s("TvDT")},"data-v-20a776d9",null).exports,V={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings__container"},[s("div",{staticClass:"settings__form"},[t.loading?s("div",[t._v("Loading...")]):t._e(),t._v(" "),t.error?s("div",[t._v("Error, please try again later.")]):s("div",[s("h1",{staticClass:"settingsTitle"},[t._v(t._s(t.tabName))]),t._v(" "),s("div",{staticClass:"settingsNav"},[s("ul",{staticClass:"settingsNav__links"},[s("router-link",{staticClass:"settingsNav_link",attrs:{to:"/dashboard/settings/preferences",tag:"li"}},[t._v("Preferences")]),t._v(" "),s("router-link",{staticClass:"settingsNav_link",attrs:{to:"/dashboard/settings/account",tag:"li"}},[t._v("Account")]),t._v(" "),s("router-link",{staticClass:"settingsNav_link",attrs:{to:"/dashboard/settings/password",tag:"li"}},[t._v("Password")]),t._v(" "),s("router-link",{staticClass:"settingsNav_link",attrs:{to:"/dashboard/settings/advanced",tag:"li"}},[t._v("Advanced")])],1)]),t._v(" "),s("transition",{attrs:{name:"slide",mode:"out-in"}},[s("router-view")],1)],1)])])},staticRenderFns:[]};var q=s("VU/8")({data:function(){return{loading:!0,error:!1,tabName:""}},watch:{$route:function(){this.tabName=this.$route.name}},created:function(){this.loading=!1,this.tabName=this.$route.name}},V,!1,function(t){s("utXP")},"data-v-5960ce54",null).exports,X={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preferences__wrapper"},[s("div",{staticClass:"inputGroup"},[s("label",{staticClass:"inputGroup__label",attrs:{for:"themeSelect"}},[t._v("\n      Theme\n      "),"dark01"===t.theme?s("span",{staticClass:"fieldError"},[t._v("sorry, dark mode isn't supported (yet).")]):t._e()]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.theme,expression:"theme"}],attrs:{name:"theme",id:"themeSelect"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.theme=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"light01"}},[t._v("Light")]),t._v(" "),s("option",{attrs:{value:"dark01"}},[t._v("Dark")])])])])},staticRenderFns:[]};var Z=s("VU/8")({data:function(){return{theme:"light01"}}},X,!1,function(t){s("K9hG")},"data-v-0bffc8c9",null).exports,J={data:function(){return{}},methods:{deleteAccount:function(){var t=this;return z()(I.a.mark(function e(){var s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete your account? This action cannot be undone. All data associated with the account will be erased.")){e.next=6;break}return e.next=3,t.$http.delete("/api/user");case 3:s=e.sent,console.log(s),t.logout();case 6:case"end":return e.stop()}},e,t)}))()},logout:function(){var t=this;this.$store.dispatch("logout").then(function(){t.$router.push("/login")}).catch(function(t){console.error(t)})}}},K={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"advanced__wrapper"},[s("input",{staticClass:"roundedButton danger",attrs:{type:"button",value:"Delete Account"},on:{click:function(e){return t.deleteAccount()}}})])},staticRenderFns:[]};var Q=s("VU/8")(J,K,!1,function(t){s("DJdp")},"data-v-4fdc9f80",null).exports,tt=s("fZjL"),et=s.n(tt),st=s("pFYg"),rt=s.n(st),at=s("woOf"),it=s.n(at),nt=s("Zx67"),ot=s.n(nt),ct=s("Zrlr"),ut=s.n(ct),lt=s("zwoO"),dt=s.n(lt),pt=s("Pf15"),ht=s.n(pt),ft=s("hiCB"),mt=s.n(ft),vt={name:"picture-input",props:{width:{type:[String,Number],default:mt.a},height:{type:[String,Number],default:mt.a},margin:{type:[String,Number],default:0},accept:{type:String,default:"image/*"},size:{type:[String,Number],default:mt.a},name:{type:String,default:null},id:{type:[String,Number],default:null},buttonClass:{type:String,default:"btn btn-primary button"},removeButtonClass:{type:String,default:"btn btn-secondary button secondary"},aspectButtonClass:{type:String,default:"btn btn-secondary button secondary"},prefill:{type:[String,File],default:""},prefillOptions:{type:Object,default:function(){return{}}},crop:{type:Boolean,default:!0},radius:{type:[String,Number],default:0},removable:{type:Boolean,default:!1},hideChangeButton:{type:Boolean,default:!1},autoToggleAspectRatio:{type:Boolean,default:!1},toggleAspectRatio:{type:Boolean,default:!1},changeOnClick:{type:Boolean,default:!0},plain:{type:Boolean,default:!1},zIndex:{type:Number,default:1e4},alertOnError:{type:Boolean,default:!0},customStrings:{type:Object,default:function(){return{}}}},watch:{prefill:function(){this.prefill?this.preloadImage(this.prefill,this.prefillOptions):this.removeImage()}},data:function(){return{imageSelected:!1,previewHeight:0,previewWidth:0,draggingOver:!1,canvasWidth:0,canvasHeight:0,strings:{upload:"<p>Your device does not support file uploading.</p>",drag:"Drag an image or <br>click here to select a file",tap:"Tap here to select a photo <br>from your gallery",change:"Change Photo",aspect:"Landscape/Portrait",remove:"Remove Photo",select:"Select a Photo",selected:"<p>Photo successfully selected!</p>",fileSize:"The file size exceeds the limit",fileType:"This file type is not supported."}}},mounted:function(){var t=this;if(this.updateStrings(),this.prefill&&this.preloadImage(this.prefill,this.prefillOptions),this.$nextTick(function(){window.addEventListener("resize",t.onResize),t.onResize()}),this.supportsPreview){this.pixelRatio=Math.round(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI);var e=this.$refs.previewCanvas;e.getContext&&(this.context=e.getContext("2d"),this.context.scale(this.pixelRatio,this.pixelRatio))}"image/*"!==this.accept&&(this.fileTypes=this.accept.split(","),this.fileTypes=this.fileTypes.map(function(t){return t.trim()})),this.canvasWidth=this.width,this.canvasHeight=this.height,this.$on("error",this.onError)},beforeDestroy:function(){window.removeEventListener("resize",this.onResize),this.$off("error",this.onError)},methods:{updateStrings:function(){for(var t in this.customStrings)t in this.strings&&"string"==typeof this.customStrings[t]&&(this.strings[t]=this.customStrings[t])},onClick:function(){this.imageSelected?(this.changeOnClick&&this.selectImage(),this.$emit("click")):this.selectImage()},onResize:function(){this.resizeCanvas(),this.imageObject&&this.drawImage(this.imageObject)},onDragStart:function(){this.supportsDragAndDrop&&(this.draggingOver=!0)},onDragStop:function(){this.supportsDragAndDrop&&(this.draggingOver=!1)},onFileDrop:function(t){this.onDragStop(),this.onFileChange(t)},onFileChange:function(t,e){var s=t.target.files||t.dataTransfer.files;if(s.length)if(s[0].size<=0||s[0].size>1024*this.size*1024)this.$emit("error",{type:"fileSize",fileSize:s[0].size,fileType:s[0].type,fileName:s[0].name,message:this.strings.fileSize+" ("+this.size+"MB)"});else if(s[0].name!==this.fileName||s[0].size!==this.fileSize||this.fileModified!==s[0].lastModified){if(this.file=s[0],this.fileName=s[0].name,this.fileSize=s[0].size,this.fileModified=s[0].lastModified,this.fileType=s[0].type,"image/*"===this.accept){if("image/"!==s[0].type.substr(0,6))return}else if(-1===this.fileTypes.indexOf(s[0].type))return void this.$emit("error",{type:"fileType",fileSize:s[0].size,fileType:s[0].type,fileName:s[0].name,message:this.strings.fileType});this.imageSelected=!0,this.image="",this.supportsPreview?this.loadImage(s[0],e||!1):e?this.$emit("prefill"):this.$emit("change",this.image)}},onError:function(t){this.alertOnError&&alert(t.message)},loadImage:function(t,e){var s=this;this.getEXIFOrientation(t,function(r){s.setOrientation(r);var a=new FileReader;a.onload=function(t){s.image=t.target.result,e?s.$emit("prefill"):s.$emit("change",s.image),s.imageObject=new Image,s.imageObject.onload=function(){s.autoToggleAspectRatio&&(s.getOrientation(s.canvasWidth,s.canvasHeight)!==s.getOrientation(s.imageObject.width,s.imageObject.height)&&s.rotateCanvas());s.drawImage(s.imageObject)},s.imageObject.src=s.image},a.readAsDataURL(t)})},drawImage:function(t){this.imageWidth=t.width,this.imageHeight=t.height,this.imageRatio=t.width/t.height;var e=0,s=0,r=this.previewWidth,a=this.previewHeight,i=this.previewWidth/this.previewHeight;this.crop?this.imageRatio>=i?(r=a*this.imageRatio,e=(this.previewWidth-r)/2):(a=r/this.imageRatio,s=(this.previewHeight-a)/2):this.imageRatio>=i?(a=r/this.imageRatio,s=(this.previewHeight-a)/2):(r=a*this.imageRatio,e=(this.previewWidth-r)/2);var n=this.$refs.previewCanvas;n.style.background="none",n.width=this.previewWidth*this.pixelRatio,n.height=this.previewHeight*this.pixelRatio,this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,n.width,n.height),this.rotate&&(this.context.translate(e*this.pixelRatio,s*this.pixelRatio),this.context.translate(r/2*this.pixelRatio,a/2*this.pixelRatio),this.context.rotate(this.rotate),e=-r/2,s=-a/2),this.context.drawImage(t,e*this.pixelRatio,s*this.pixelRatio,r*this.pixelRatio,a*this.pixelRatio)},selectImage:function(){this.$refs.fileInput.click()},removeImage:function(){this.$refs.fileInput.value="",this.$refs.fileInput.type="",this.$refs.fileInput.type="file",this.fileName="",this.fileType="",this.fileSize=0,this.fileModified=0,this.imageSelected=!1,this.image="",this.file=null,this.imageObject=null,this.$refs.previewCanvas.style.backgroundColor="rgba(200,200,200,.25)",this.$refs.previewCanvas.width=this.previewWidth*this.pixelRatio,this.$emit("remove")},rotateImage:function(){this.rotateCanvas(),this.imageObject&&this.drawImage(this.imageObject);var t=this.getOrientation(this.canvasWidth,this.canvasHeight);this.$emit("aspectratiochange",t)},resizeCanvas:function(){var t=this.canvasWidth/this.canvasHeight,e=this.$refs.container.clientWidth;(this.toggleAspectRatio||e!==this.containerWidth)&&(this.containerWidth=e,this.previewWidth=Math.min(this.containerWidth-2*this.margin,this.canvasWidth),this.previewHeight=this.previewWidth/t)},getOrientation:function(t,e){var s="square";return t>e?s="landscape":t<e&&(s="portrait"),s},switchCanvasOrientation:function(){var t=this.canvasWidth,e=this.canvasHeight;this.canvasWidth=e,this.canvasHeight=t},rotateCanvas:function(){this.switchCanvasOrientation(),this.resizeCanvas()},setOrientation:function(t){this.rotate=!1,8===t?this.rotate=-Math.PI/2:6===t?this.rotate=Math.PI/2:3===t&&(this.rotate=-Math.PI)},getEXIFOrientation:function(t,e){var s=new FileReader;s.onload=function(t){var s=new DataView(t.target.result);if(65496!==s.getUint16(0,!1))return e(-2);for(var r=s.byteLength,a=2;a<r;){var i=s.getUint16(a,!1);if(a+=2,65505===i){if(1165519206!==s.getUint32(a+=2,!1))return e(-1);var n=18761===s.getUint16(a+=6,!1);a+=s.getUint32(a+4,n);var o=s.getUint16(a,n);a+=2;for(var c=0;c<o;c++)if(274===s.getUint16(a+12*c,n))return e(s.getUint16(a+12*c+8,n))}else{if(65280!=(65280&i))break;a+=s.getUint16(a,!1)}}return e(-1)},s.readAsArrayBuffer(t.slice(0,65536))},preloadImage:function(t,e){var s=this,r=window.File;try{new r([],"")}catch(t){r=function(t){function e(t,s){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ut()(this,e);var a=dt()(this,(e.__proto__||ot()(e)).call(this,t,r));return a.lastModifiedDate=new Date,a.lastModified=+a.lastModifiedDate,a.name=s,a}return ht()(e,t),e}(Blob)}if(e=it()({},e),"object"===(void 0===t?"undefined":rt()(t)))return this.imageSelected=!0,this.image="",void(this.supportsPreview?this.loadImage(t,!0):this.$emit("prefill"));var a=new Headers;a.append("Accept","image/*"),fetch(t,{method:"GET",mode:"cors",headers:a}).then(function(t){return t.blob()}).then(function(a){var i={target:{files:[]}},n=e.fileName||t.split("/").slice(-1)[0],o=e.mediaType||"image/"+(e.fileType||n.split(".").slice(-1)[0]);o=o.replace("jpg","jpeg"),i.target.files[0]=new r([a],n,{type:o}),s.onFileChange(i,!0)}).catch(function(t){s.$emit("error",{type:"failedPrefill",message:"Failed loading prefill image: "+t})})}},computed:{supportsUpload:function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var t=document.createElement("input");return t.type="file",!t.disabled},supportsPreview:function(){return window.FileReader&&!!window.CanvasRenderingContext2D},supportsDragAndDrop:function(){var t=document.createElement("div");return("draggable"in t||"ondragstart"in t&&"ondrop"in t)&&!("ontouchstart"in window||navigator.msMaxTouchPoints)},computedClasses:function(){var t={};return t["dragging-over"]=this.draggingOver,t},fontSize:function(){return Math.min(.04*this.previewWidth,21)+"px"}}},gt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"container",staticClass:"picture-input",attrs:{id:"picture-input"}},[t.supportsUpload?t.supportsPreview?s("div",[s("div",{staticClass:"preview-container",style:{maxWidth:t.previewWidth+"px",height:t.previewHeight+"px",borderRadius:t.radius+"%"}},[s("canvas",{ref:"previewCanvas",staticClass:"picture-preview",class:t.computedClasses,style:{height:t.previewHeight+"px",zIndex:t.zIndex+1},on:{drag:function(t){t.stopPropagation(),t.preventDefault()},dragover:function(t){t.stopPropagation(),t.preventDefault()},dragstart:function(e){return e.stopPropagation(),e.preventDefault(),t.onDragStart(e)},dragenter:function(e){return e.stopPropagation(),e.preventDefault(),t.onDragStart(e)},dragend:function(e){return e.stopPropagation(),e.preventDefault(),t.onDragStop(e)},dragleave:function(e){return e.stopPropagation(),e.preventDefault(),t.onDragStop(e)},drop:function(e){return e.stopPropagation(),e.preventDefault(),t.onFileDrop(e)},click:function(e){return e.preventDefault(),t.onClick(e)}}}),t._v(" "),t.imageSelected||t.plain?t._e():s("div",{staticClass:"picture-inner",style:{top:-t.previewHeight+"px",marginBottom:-t.previewHeight+"px",fontSize:t.fontSize,borderRadius:t.radius+"%",zIndex:t.zIndex+2}},[t.supportsDragAndDrop?s("span",{staticClass:"picture-inner-text",domProps:{innerHTML:t._s(t.strings.drag)}}):s("span",{staticClass:"picture-inner-text",domProps:{innerHTML:t._s(t.strings.tap)}})])]),t._v(" "),t.imageSelected&&!t.hideChangeButton?s("button",{class:t.buttonClass,on:{click:function(e){return e.preventDefault(),t.selectImage(e)}}},[t._v(t._s(t.strings.change))]):t._e(),t._v(" "),t.imageSelected&&t.removable?s("button",{class:t.removeButtonClass,on:{click:function(e){return e.preventDefault(),t.removeImage(e)}}},[t._v(t._s(t.strings.remove))]):t._e(),t._v(" "),t.imageSelected&&t.toggleAspectRatio&&t.width!==t.height?s("button",{class:t.aspectButtonClass,on:{click:function(e){return e.preventDefault(),t.rotateImage(e)}}},[t._v(t._s(t.strings.aspect))]):t._e()]):s("div",[t.imageSelected?s("div",[s("div",{domProps:{innerHTML:t._s(t.strings.selected)}}),t._v(" "),t.hideChangeButton?t._e():s("button",{class:t.buttonClass,on:{click:function(e){return e.preventDefault(),t.selectImage(e)}}},[t._v(t._s(t.strings.change))]),t._v(" "),t.removable?s("button",{class:t.removeButtonClass,on:{click:function(e){return e.preventDefault(),t.removeImage(e)}}},[t._v(t._s(t.strings.remove))]):t._e()]):s("button",{class:t.buttonClass,on:{click:function(e){return e.preventDefault(),t.selectImage(e)}}},[t._v(t._s(t.strings.select))])]):s("div",{domProps:{innerHTML:t._s(t.strings.upload)}}),t._v(" "),s("input",{ref:"fileInput",attrs:{type:"file",name:t.name,id:t.id,accept:t.accept},on:{change:t.onFileChange}})])},staticRenderFns:[]};var _t={data:function(){return{formErrors:[],last_name:"",first_name:"",email:""}},components:{PictureInput:s("VU/8")(vt,gt,!1,function(t){s("WVE5")},"data-v-5080a0f2",null).exports},mixins:[w],methods:{handleSubmit:function(t){var e=this;return z()(I.a.mark(function t(){var s;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.formErrors=[],s={},e.email!==e.computeEmail&&(s.email=e.email),e.first_name!==e.computeFirstName&&(s.first_name=e.first_name),e.last_name!==e.computeLastName&&(s.last_name=e.last_name),!(et()(s).length>0)){t.next=17;break}return t.prev=6,t.next=9,e.$http.patch("/api/user",s);case 9:t.sent,e.$store.dispatch("refreshUser").then(function(){e.$store.dispatch("addModal",{type:"success",message:"Your accout was succesfully updated.",uuid:Object(_.a)()})}).catch(function(t){e.$store.dispatch("addModal",{type:"danger",message:"There was a problem with that request. Please try again later.",uuid:Object(_.a)()})}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),e.addFormError(t.t0),console.log(t.t0);case 17:case"end":return t.stop()}},t,e,[[6,13]])}))()},attemptUpload:function(){var t=this;return z()(I.a.mark(function e(){var s,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.$refs.pictureInput.file){e.next=19;break}if(t.image=t.$refs.pictureInput.file,!t.image){e.next=17;break}return(s=new FormData).append("avatar",t.image),r={headers:{"content-type":"multipart/form-data"}},e.prev=6,e.next=9,t.$http.post("/api/user/avatar",s,r);case 9:e.sent.data&&(t.image="",t.$store.dispatch("refreshUser"),t.$store.dispatch("addModal",{type:"success",message:"Your avatar was succesfully updated.",uuid:Object(_.a)()})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),console.error(e.t0),t.$store.dispatch("addModal",{type:"danger",message:"There was an error uploading that image. Please try a different image.",uuid:Object(_.a)()});case 17:e.next=20;break;case 19:console.error("Older browser. No support for Filereader API");case 20:case"end":return e.stop()}},e,t,[[6,13]])}))()},handlePictureError:function(t){var e=this;return z()(I.a.mark(function s(){return I.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e.$store.dispatch("addModal",{type:"danger",message:t.message,uuid:Object(_.a)(),duration:5e3});case 1:case"end":return s.stop()}},s,e)}))()}},computed:{computeFirstName:function(){return this.$store.state.user.first_name},computeLastName:function(){return this.$store.state.user.last_name},computeFullName:function(){return this.computeFirstName+" "+this.computeLastName},computeEmail:function(){return this.$store.state.user.email},avatarUrl:function(){return this.$store.getters.avatarUrl}},created:function(){this.computeEmail&&(this.email=this.computeEmail),this.computeFirstName&&(this.first_name=this.computeFirstName),this.computeLastName&&(this.last_name=this.computeLastName)}},wt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"account__wrapper"},[s("header",[s("div",{staticClass:"img-container"},[s("picture-input",{ref:"pictureInput",attrs:{width:96,height:96,removable:!1,accept:"image/jpeg, image/png, image/gif",buttonClass:"roundedButton",removeButtonClass:"roundedButton",hideChangeButton:!0,radius:"48",prefill:t.avatarUrl,size:"3",alertOnError:!1,customStrings:{drag:"Drag or Click"}},on:{change:t.attemptUpload,error:t.handlePictureError}})],1),t._v(" "),s("div",{staticClass:"header-text"},[s("h2",[t._v(t._s(t.computeFullName))]),t._v(" "),s("p",[t._v(t._s(t.computeEmail))])])]),t._v(" "),s("div",{staticClass:"divider"}),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("div",{staticClass:"inputGroup",class:{hasError:t.formErrors.find(function(t){return"email"===t.field})}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"email"}},[t._v("\n        Email\n        "),t.formErrors.find(function(t){return"email"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"email"===t.field}).msg))]):t._e()]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col2"},[s("div",{staticClass:"inputGroup",class:{hasError:t.formErrors.find(function(t){return"first_name"===t.field})}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"first_name"}},[t._v("\n          First name\n          "),t.formErrors.find(function(t){return"first_name"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"first_name"===t.field}).msg))]):t._e()]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.first_name,expression:"first_name"}],attrs:{type:"text"},domProps:{value:t.first_name},on:{input:function(e){e.target.composing||(t.first_name=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"inputGroup",class:{hasError:t.formErrors.find(function(t){return"last_name"===t.field})}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"last_name"}},[t._v("\n          Last name\n          "),t.formErrors.find(function(t){return"last_name"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"last_name"===t.field}).msg))]):t._e()]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.last_name,expression:"last_name"}],attrs:{type:"text"},domProps:{value:t.last_name},on:{input:function(e){e.target.composing||(t.last_name=e.target.value)}}})])]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"submitWrapper"},[e("input",{staticClass:"roundedButton",attrs:{type:"submit",value:"Submit"}})])}]};var bt=s("VU/8")(_t,wt,!1,function(t){s("K7Os")},"data-v-c00fa914",null).exports,yt={data:function(){return{currentPassword:"",newPassword:"",confirmPassword:"",formErrors:[]}},mixins:[w],methods:{handleUpdatePassword:function(){var t=this;return z()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.formErrors=[],t.newPassword.length){e.next=6;break}return t.formErrors.push({field:"newPassword",msg:"must provide a new password"}),e.abrupt("return");case 6:if(t.newPassword.trim()===t.confirmPassword.trim()){e.next=11;break}return t.newPassword="",t.confirmPassword="",t.formErrors.push({field:"newPassword",msg:"passwords must match"}),e.abrupt("return");case 11:return e.prev=11,e.next=14,t.$http.post("/api/user/password",{currentPassword:t.currentPassword,newPassword:t.confirmPassword});case 14:e.sent,t.$store.dispatch("addModal",{type:"success",message:"Password was succesfully changed.",uuid:Object(_.a)()}),t.currentPassword="",t.newPassword="",t.confirmPassword="",e.next=25;break;case 21:e.prev=21,e.t0=e.catch(11),console.log(e.t0),t.addFormError(e.t0,"newPassword");case 25:case"end":return e.stop()}},e,t,[[11,21]])}))()}}},Ct={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"password_wrapper"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.handleUpdatePassword()}}},[s("div",{staticClass:"inputGroup",class:{hasError:t.formErrors.find(function(t){return"currentPassword"===t.field})}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"currentPassword"}},[t._v("\n        Current password\n        "),t.formErrors.find(function(t){return"currentPassword"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"currentPassword"===t.field}).msg))]):t._e()]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPassword,expression:"currentPassword"}],attrs:{type:"password",name:"password",id:"currentPassword"},domProps:{value:t.currentPassword},on:{input:function(e){e.target.composing||(t.currentPassword=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"inputGroup",class:{hasError:t.formErrors.find(function(t){return"newPassword"===t.field})}},[s("label",{staticClass:"inputGroup__label",attrs:{for:"newPassword"}},[t._v("\n        New password\n        "),t.formErrors.find(function(t){return"newPassword"===t.field})?s("span",{staticClass:"fieldError"},[t._v(t._s(t.formErrors.find(function(t){return"newPassword"===t.field}).msg))]):t._e()]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],attrs:{type:"password",name:"newPassword",id:"newPassword"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"inputGroup"},[s("label",{staticClass:"inputGroup__label",attrs:{for:"confirmPassword"}},[t._v("Confirm password")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],attrs:{type:"password",name:"confirmPassword",id:"confirmPassword"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"submit__wrapper"},[e("input",{staticClass:"roundedButton",attrs:{type:"submit",value:"Update"}})])}]};var Pt=s("VU/8")(yt,Ct,!1,function(t){s("vzrE")},"data-v-6ba0eeae",null).exports,kt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[this._v("404 Not Found. "),e("router-link",{attrs:{to:"/dashboard"}},[this._v("Go to Dashboard")])],1)},staticRenderFns:[]},xt=s("VU/8")({},kt,!1,null,null,null).exports,Et=s("Gu7T"),jt=s.n(Et),Mt={props:{subscription:{type:Object,required:!0}},data:function(){return{showOptions:!1}},methods:{handleRemoveSubscription:function(){var t=this;return z()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.delete("/api/subscription/"+t.subscription._id);case 3:e.sent,L.$emit("refreshSubscriptions"),t.$router.push("/dashboard"),t.$store.dispatch("addModal",{type:"success",message:"Subscription was removed.",uuid:Object(_.a)()}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t.$store.dispatch("addModal",{type:"danger",message:"There was an error removing that subscription. Please try again later.",uuid:Object(_.a)()}),console.log(e.t0);case 13:case"end":return e.stop()}},e,t,[[0,9]])}))()},handleDuplicateSubscription:function(){var t=this;return z()(I.a.mark(function e(){var s,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={price:t.subscription.price,name:t.subscription.name,description:t.subscription.description,firstPaymentDate:t.subscription.firstPaymentDate,interval:t.subscription.interval,duration:t.subscription.duration,color:t.subscription.color,paymentMethod:t.subscription.paymentMethod,note:t.subscription.note},e.next=4,t.$http.post("/api/subscription/",s);case 4:r=e.sent,L.$emit("refreshSubscriptions"),t.$router.push("/dashboard/subscription/"+r.data.subscription._id),t.$store.dispatch("addModal",{type:"success",message:"Subscription was duplicated.",uuid:Object(_.a)()}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t.$store.dispatch("addModal",{type:"danger",message:"There was an error duplicating that subscription. Please try again later.",uuid:Object(_.a)()});case 14:case"end":return e.stop()}},e,t,[[0,10]])}))()},handleOptionsMenu:function(t){"boolean"==typeof t||(this.showOptions?this.showOptions=!1:this.showOptions=!0)}},computed:{firstPaymentDateString:function(){return j.a.utc(this.subscription.firstPaymentDate).format("MMMM DD, YYYY")},upcomingPaymentString:function(){return"\n        "+j.a.utc(this.subscription.upcomingPayments[0].isoString).calendar(null,{sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"dddd (MMMM DD, YYYY)",lastDay:"[Yesterday] (MMMM DD, YYYY)",lastWeek:"[Last] dddd (MMMM DD, YYYY)",sameElse:"MMMM DD, YYYY"})+"\n      "},billingPeriod:function(){if(this.subscription.interval>1)return"Every "+this.subscription.interval+" "+this.subscription.duration+"s";switch(this.subscription.duration){case"day":return"Daily";case"year":return"Yearly";case"month":return"Monthly"}}}},St={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"subscriptionListItem"},[s("div",{staticClass:"flexChild color"},[s("div",{staticClass:"color__swatch",style:{borderColor:t.subscription.color}})]),t._v(" "),s("div",{staticClass:"flexChild textContainer name"},[t._v(t._s(t.subscription.name))]),t._v(" "),s("div",{staticClass:"flexChild textContainer price"},[t._v("$"+t._s(t.subscription.price))]),t._v(" "),s("div",{staticClass:"flexChild textContainer paidToDate"},[t._v("$"+t._s(t.subscription.paidToDate))]),t._v(" "),s("div",{staticClass:"flexChild textContainer billingPeriod"},[t._v(t._s(t.billingPeriod))]),t._v(" "),s("div",{staticClass:"flexChild textContainer paymentMethod"},[t._v(t._s(t.subscription.paymentMethod||"None provided"))]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"flexChild textContainer firstPayment"},[t._v(t._s(t.firstPaymentDateString))]),t._v(" "),s("div",{staticClass:"flexChild textContainer nextPayment"},[t._v(t._s(t.upcomingPaymentString))]),t._v(" "),s("div",{staticClass:"flexChild options"},[s("div",{staticClass:"options__clickZone",class:{options__clickZone_active:t.showOptions},on:{click:function(e){return t.handleOptionsMenu()}}},[s("i",{staticClass:"fas fa-ellipsis-h"})]),t._v(" "),t.showOptions?s("ul",{staticClass:"optionsMenu"},[s("router-link",{attrs:{to:"/dashboard/subscription/"+t.subscription._id,tag:"li"}},[s("i",{staticClass:"fa fa-pencil"}),t._v(" Edit\n      ")]),t._v(" "),s("li",{on:{click:function(e){return t.handleRemoveSubscription()}}},[s("i",{staticClass:"fa fa-trash"}),t._v(" Remove\n      ")]),t._v(" "),s("li",{on:{click:function(e){return t.handleDuplicateSubscription()}}},[s("i",{staticClass:"fa fa-copy"}),t._v(" Duplicate\n      ")])],1):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flexChild tags"},[e("span",{staticClass:"tag"},[this._v("productibity")]),this._v(" "),e("span",{staticClass:"tag"},[this._v("media")]),this._v(" "),e("span",{staticClass:"tag"},[this._v("essential")])])}]};var Dt={components:{SubscriptionListItem:s("VU/8")(Mt,St,!1,function(t){s("5Wpq")},"data-v-8452b05a",null).exports},data:function(){return{loading:!0,error:!1,subscriptions:[],sortDirection:-1,sortMethod:"nextPayment",showSortMenu:!1,filter:"all",showFilterMenu:!1}},watch:{sortMethod:function(){this.showSortMenu=!1},filter:function(){this.showFilterMenu=!1}},methods:{fetchSubscriptions:function(){var t=this;return z()(I.a.mark(function e(){var s,r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,t.subscriptions=[],e.next=5,t.$http.get("/api/subscription");case 5:if(r=e.sent,a=r.data.subscriptions){e.next=10;break}return t.loading=!1,e.abrupt("return");case 10:a.forEach(function(e,s){a[s].price=e.price.toFixed(2),t.getUpcomingPayments(e)}),(s=t.subscriptions).push.apply(s,jt()(a)),t.loading=!1,e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),t.error=!0,console.log(e.t0);case 19:case"end":return e.stop()}},e,t,[[0,15]])}))()},getUpcomingPayments:function(t){var e=function(e){t.upcomingPayments.push({isoString:e.utc().toISOString()})};t.upcomingPayments=[],t.paidToDate=0;var s=j.a.utc(t.firstPaymentDate),r=j.a.utc().set("hour",0).set("minute",0).set("second",0).set("millisecond",0);if(j.a.utc().isAfter(s))for(;r.isAfter(s);)s.add(t.interval,t.duration+"s"),t.paidToDate+=parseFloat(t.price);t.paidToDate=t.paidToDate.toFixed(2),e(s);for(var a=0;a<7;a++)s.add(t.interval,t.duration+"s"),e(s)},switchSortDirection:function(){-1===this.sortDirection?this.sortDirection=1:this.sortDirection=-1},handleDisplaySortMenu:function(t){"boolean"==typeof t?this.showSortMenu=t:this.showSortMenu?this.showSortMenu=!1:this.showSortMenu=!0},handleDisplayFilterMenu:function(t){"boolean"==typeof t?this.showFilterMenu=t:this.showFilterMenu?this.showFilterMenu=!1:this.showFilterMenu=!0}},computed:{organizedSubscriptions:function(){var t=this,e=this.subscriptions;switch(this.filter){default:case"all":e=e.filter(function(t){return t});break;case"week":e=e.filter(function(t){var e=j.a.utc(t.upcomingPayments[0].isoString),s=j.a.utc().add(1,"weeks");if(e.isBefore(s))return!0});break;case"month":e=e.filter(function(t){var e=j.a.utc(t.upcomingPayments[0].isoString),s=j.a.utc().add(1,"months");if(e.isBefore(s))return!0});break;case"year":e=e.filter(function(t){var e=j.a.utc(t.upcomingPayments[0].isoString),s=j.a.utc().add(1,"years");if(e.isBefore(s))return!0})}switch(this.sortMethod){case"name":case"duration":case"paymentMethod":e.sort(function(e,s){var r=e[t.sortMethod].toLowerCase(),a=s[t.sortMethod].toLowerCase();return r>a?-1:r<a?1:0});break;case"price":case"paidToDate":e.sort(function(e,s){return e[t.sortMethod]-s[t.sortMethod]});break;case"firstPayment":e.sort(function(t,e){var s=j.a.utc(t.firstPaymentDate).valueOf(),r=j.a.utc(e.firstPaymentDate).valueOf();return s<r?-1:s>r?1:0});break;default:case"nextPayment":e.sort(function(t,e){var s=j.a.utc(t.upcomingPayments[0].isoString).valueOf(),r=j.a.utc(e.upcomingPayments[0].isoString).valueOf();return s<r?-1:s>r?1:0})}return 1===this.sortDirection&&e.reverse(),e},sortMethodDisplayName:function(){switch(this.sortMethod){case"name":return"Name";case"duration":return"Billing Period";case"paymentMethod":return"Payment Method";case"price":return"Price";case"paidToDate":return"Paid To Date";case"firstPayment":return"First Payment";case"nextPayment":return"Next Payment"}}},created:function(){var t=this;this.fetchSubscriptions(),L.$on("refreshSubscriptions",function(){t.fetchSubscriptions()})}},$t={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loading?s("div",[t._v("Loading...")]):t.error?s("div",[t._v("Error, try again later!")]):s("div",{staticClass:"subscriptionsList"},[s("div",{staticClass:"subscriptionsList__header"},[s("div",{staticClass:"subscriptionsList__headerLeft"},[s("h1",[t._v("Subscriptions")]),t._v(" "),s("p",[t._v("\n        "+t._s(t.organizedSubscriptions.length)+" total\n        "),"all"!==t.filter?s("span",[t._v("(filtered)")]):t._e()]),t._v(" "),s("div",{staticClass:"sortMethod__wrapper"},[s("p",[t._v("Sort by:")]),t._v(" "),s("div",{staticClass:"sortMethod"},[s("p",{on:{click:function(e){return t.handleDisplaySortMenu()}}},[t._v(t._s(t.sortMethodDisplayName))]),t._v(" "),t.showSortMenu?s("ul",{staticClass:"sortMethod__options"},[s("li",{on:{click:function(e){t.sortMethod="name"}}},[t._v("Name")]),t._v(" "),s("li",{on:{click:function(e){t.sortMethod="duration"}}},[t._v("Billing Period")]),t._v(" "),s("li",{on:{click:function(e){t.sortMethod="paymentMethod"}}},[t._v("Payment Method")]),t._v(" "),s("li",{on:{click:function(e){t.sortMethod="price"}}},[t._v("Price")]),t._v(" "),s("li",{on:{click:function(e){t.sortMethod="paidToDate"}}},[t._v("Paid To Date")]),t._v(" "),s("li",{on:{click:function(e){t.sortMethod="firstPayment"}}},[t._v("First Payment")]),t._v(" "),s("li",{on:{click:function(e){t.sortMethod="nextPayment"}}},[t._v("Next Payment")])]):t._e()]),t._v(" "),s("div",{staticClass:"sortDirection",class:{sortDirection_rotate:-1===t.sortDirection}},[s("div",{staticClass:"sortDirection__clicker",on:{click:function(e){return t.switchSortDirection()}}},[s("img",{attrs:{width:"10",height:"auto",src:"/assets/sort-arrow.svg",alt:""}})])])])]),t._v(" "),s("div",{staticClass:"subscriptionsList__headerRight"},[t._m(0),t._v(" "),s("div",{staticClass:"button filter",on:{click:function(e){return t.handleDisplayFilterMenu()}}},[t._m(1),t._v(" "),t.showFilterMenu?s("ul",{staticClass:"filter__options"},[s("li",{on:{click:function(e){t.filter="all"}}},[t._v("Show All")]),t._v(" "),s("li",{on:{click:function(e){t.filter="week"}}},[t._v("In a week")]),t._v(" "),s("li",{on:{click:function(e){t.filter="month"}}},[t._v("In a month")]),t._v(" "),s("li",{on:{click:function(e){t.filter="year"}}},[t._v("In a year")])]):t._e()]),t._v(" "),s("router-link",{staticClass:"button button__add",attrs:{to:"/dashboard/subscription/",tag:"div"}},[t._v("\n        Add Subscription\n        "),s("i",{staticClass:"fa fa-plus"})]),t._v(" "),t._m(2)],1)]),t._v(" "),s("div",{staticClass:"subscriptionsList__items"},[t._m(3),t._v(" "),t.subscriptions.length>0?s("ul",t._l(t.organizedSubscriptions,function(t,e){return s("subscription-list-item",{key:e,attrs:{subscription:t}})}),1):s("div",{staticClass:"empty"},[t._v("\n      Nothing to see here... try adding a\n      "),s("router-link",{attrs:{to:"/dashboard/subscription"}},[t._v("new subscription")]),t._v(".\n    ")],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"button"},[this._v("\n        View\n        "),e("i",{staticClass:"fa fa-list"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("\n          Filter\n          "),e("i",{staticClass:"fa fa-filter"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"button button__ellipsis"},[e("i",{staticClass:"fas fa-ellipsis-h"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"subscriptionsList__labels"},[s("div",{staticClass:"color"}),t._v(" "),s("div",{staticClass:"name"},[t._v("Name")]),t._v(" "),s("div",{staticClass:"price"},[t._v("Price")]),t._v(" "),s("div",{staticClass:"paidToDate"},[t._v("Paid To Date")]),t._v(" "),s("div",{staticClass:"billingPeriod"},[t._v("Billing Period")]),t._v(" "),s("div",{staticClass:"paymentMethod"},[t._v("Payment Method")]),t._v(" "),s("div",{staticClass:"tags"},[t._v("Tags")]),t._v(" "),s("div",{staticClass:"firstPayment"},[t._v("First Payment")]),t._v(" "),s("div",{staticClass:"nextPayment"},[t._v("Next Payment")]),t._v(" "),s("div",{staticClass:"options"})])}]};var Ot=s("VU/8")(Dt,$t,!1,function(t){s("AtXz")},null,null).exports,Ft=s("NYxO"),It=s("mtWM"),Nt=s.n(It);r.a.use(Ft.a);var zt,Lt=new Ft.a.Store({state:{isAuthenticated:!1,isLoading:!1,token:localStorage.getItem("token")||"",user:{},preferences:{language:"en"},alerts:[]},mutations:{auth_request:function(t){t.isLoading=!0},auth_success:function(t,e){var s=e.token,r=e.user;t.token=s,t.user=r,t.isAuthenticated=!0,t.isLoading=!1},auth_error:function(t){t.isLoading=!1,t.isAuthenticated=!1,t.token=null,t.user={}},refresh_user:function(t,e){t.user=e},logout:function(t){t.token=null,t.user={},t.isAuthenticated=!1,t.isLoading=!1},change_language:function(t,e){t.preferences.language=e},add_modal:function(t,e){t.alerts.push(e)},remove_modal:function(t,e){var s=t.alerts.findIndex(function(t){return t.uuid===e});s>-1&&t.alerts.splice(s,1)},clear_modals:function(t){t.alerts=[]}},actions:{login:function(t,e){var s=t.commit;return new i.a(function(t,r){s("auth_request"),Nt()({url:"/api/auth/login",data:e,method:"POST"}).then(function(e){var r=e.data.token,a=e.data.user;localStorage.setItem("token",r),Nt.a.defaults.headers.common["x-auth-token"]=r,s("auth_success",{token:r,user:a}),t(e)}).catch(function(t){s("auth_error"),localStorage.removeItem("token"),r(t)})})},register:function(t,e){var s=t.commit;return new i.a(function(t,r){s("auth_request"),Nt()({url:"/api/user",data:e,method:"POST"}).then(function(e){var r=e.data,a=r.token,i=r.user;localStorage.setItem("token",a),Nt.a.defaults.headers.common["x-auth-token"]=a,s("auth_success",{token:a,user:i}),t(e)}).catch(function(t){s("auth_error",t),localStorage.removeItem("token"),r(t)})})},logout:function(t){var e,s=this,r=t.dispatch,a=t.commit;return new i.a((e=z()(I.a.mark(function t(e){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("logout"),localStorage.removeItem("token"),delete Nt.a.defaults.headers.common["x-auth-token"],t.next=5,r("addModal",{type:"success",message:"You have been logged out.",uuid:Object(_.a)()});case 5:e();case 6:case"end":return t.stop()}},t,s)})),function(t){return e.apply(this,arguments)}))},verifyToken:function(t){var e=t.commit;return new i.a(function(t,s){e("auth_request"),Nt()({url:"/api/auth",method:"GET"}).then(function(s){var r=s.data,a=r.token,i=r.user;e("auth_success",{token:a,user:i}),t(s)}).catch(function(t){e("auth_error",t),localStorage.removeItem("token"),s(t)})})},languageChange:function(t,e){(0,t.commit)("change_language",e)},refreshUser:function(t){var e=t.commit;return new i.a(function(t,s){Nt()({url:"/api/user",method:"GET"}).then(function(s){var r=s.data.user;e("refresh_user",r),t(s)}).catch(function(t){s(t)})})},addModal:function(t,e){var s=t.commit;s("add_modal",e),setTimeout(function(){s("remove_modal",e.uuid)},e.duration||3e3)}},getters:{isAuthenticated:function(t){return t.isAuthenticated},isLoading:function(t){return t.isLoading},alert:function(t){return t.alerts[0]||null},avatarUrl:function(t){return console.log({env:"production"}),"/avatars/"+t.user.avatarFileName}}});r.a.use(m.a);var Tt=new m.a({mode:"history",base:"/app",routes:[{path:"/login",name:"login",component:C},{path:"/register",name:"register",component:x},{path:"/dashboard",component:D,meta:{requiresAuth:!0},children:[(zt={path:"",name:"Dashboard"},f()(zt,"name","Subscriptions List"),f()(zt,"component",Ot),zt),{path:"subscription/:subscriptionId",name:"Edit Subscription",component:H,props:!0},{path:"subscription",name:"New Subscription",component:H},{path:"settings",component:q,children:[{path:"",redirect:"preferences"},{path:"preferences",name:"Preferences",component:Z},{path:"account",name:"Account",component:bt},{path:"password",name:"Password",component:Pt},{path:"advanced",name:"Advanced",component:Q}]}]},{path:"*",name:"404",component:xt}]});Tt.beforeEach(function(t,e,s){!function e(){setTimeout(function(){Lt.getters.isLoading?e():t.matched.some(function(t){return t.meta.requiresAuth})?Lt.getters.isAuthenticated?s():s("/login"):s()},10)}()});var Rt=Tt;r.a.prototype.$http=Nt.a,new r.a({el:"#app",router:Rt,store:Lt,components:{App:p},template:"<App/>"})},OTtp:function(t,e){},TvDT:function(t,e){},WVE5:function(t,e){},XzU7:function(t,e){},fWSh:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMCA2Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6IzgyOWZhZTt9PC9zdHlsZT48L2RlZnM+PGcgaWQ9IkxheWVyXzIiIGRhdGEtbmFtZT0iTGF5ZXIgMiI+PGcgaWQ9IkxheWVyXzEtMiIgZGF0YS1uYW1lPSJMYXllciAxIj48cG9seWxpbmUgY2xhc3M9ImNscy0xIiBwb2ludHM9IjAgNiA1IDAgMTAgNiAwIDYiLz48L2c+PC9nPjwvc3ZnPg=="},iihr:function(t,e){},"k/PI":function(t,e){},lPkd:function(t,e){},oXjK:function(t,e){},uslO:function(t,e,s){var r={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-in":"yJfC","./en-in.js":"yJfC","./en-nz":"dyB6","./en-nz.js":"dyB6","./en-sg":"NYST","./en-sg.js":"NYST","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fil":"rMbQ","./fil.js":"rMbQ","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-deva":"VGQH","./gom-deva.js":"VGQH","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./oc-lnc":"KOFO","./oc-lnc.js":"KOFO","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tk":"+WRH","./tk.js":"+WRH","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-mo":"+WA1","./zh-mo.js":"+WA1","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function a(t){return s(i(t))}function i(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(r)},a.resolve=i,t.exports=a,a.id="uslO"},utXP:function(t,e){},vzrE:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9557556a2f931a2d2f48.js.map